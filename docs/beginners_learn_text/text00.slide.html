<!DOCTYPE html>
<html lang="ja">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
<meta content="Asciidoctor 2.0.10" name="generator" />
<meta content="この文書は、技術教育「要素技術とモデルを開発に使おう」に使用するETロボコン公式トレーニングのテキストです。" name="description" />
<meta content="ETロボコン実行委員会" name="author" />
<title>要素技術とモデルを開発に使おう: 背景と準備</title>
<link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet" />
<style>
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 1.2em; height: 1.2em; font-size: 0.9em; font-weight: bold; line-height: 1.2; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -0.1em; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.colist table td:first-of-type { padding-right: 0.25em; }
</style>
<link href="http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css" rel="stylesheet" />
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
<link href="deck.js/core/deck.core.css" rel="stylesheet" />
<link href="deck.js/extensions/scale/deck.scale.css" media="screen" rel="stylesheet" />
<link href="deck.js/extensions/goto/deck.goto.css" media="screen" rel="stylesheet" />
<link href="deck.js/extensions/menu/deck.menu.css" media="screen" rel="stylesheet" />
<link href="deck.js/extensions/navigation/deck.navigation.css" media="screen" rel="stylesheet" />
<link href="deck.js/extensions/status/deck.status.css" media="screen" rel="stylesheet" />
<link href="deck.js/themes/style/mystyle.css" media="screen" rel="stylesheet" />
<link href="deck.js/themes/transition/fade.css" media="screen" rel="stylesheet" />
<link href="deck.js/core/print.css" media="print" rel="stylesheet" />
<script src="deck.js/modernizr.custom.js"></script>
</head>
<body class="article">
<div class="deck-container">
<section class="slide" id="title-slide">
<h1>要素技術とモデルを開発に使おう: 背景と準備</h1>
<span id="author">ETロボコン実行委員会</span>
<br />
<span id="email"><a href="mailto:er-info@etrobo.jp">er-info@etrobo.jp</a></span>
<br />
<span id="revnumber"> 3.0,</span>
<span id="revdate">2020-07-05 11:59:55</span>
<br />
<span id="revremark">2020年用</span>
</section>
<section class="slide" id="_この教材について">
<h2>この教材について</h2>
<section class="slide" id="_目的">
<h2>目的</h2>
<div class="ulist">
<ul>
<li>この教材は、ETロボコンに参加されるみなさんに、モデル作成に必要となる知識やスキル取得の機会を提供することを目的に作成しています</li>
</ul>
</div>
</section>
<section class="slide" id="_著作">
<h2>著作</h2>
<div class="ulist">
<ul>
<li>この教材はETロボコン実行委員会が作成したものです</li>
<li>この教材の著作権は、ETロボコン実行委員会に帰属します</li>
</ul>
</div>
</section>
<section class="slide" id="_使用について">
<h2>使用について</h2>
<div class="ulist">
<ul>
<li>ETロボコンの参加資格（企業・大学・個人）の範囲内に限り、ご自由に活用していただいてかまいません</li>
</ul>
</div>
</section>
</section>
<section class="slide" id="_はじめに">
<h2>はじめに</h2>
<section class="slide" id="_本コースの想定する受講者">
<h2>本コースの想定する受講者</h2>
<div class="paragraph"><p>C言語/C&#43;&#43;言語、あるいはこれらに類似の言語のプログラミング経験はあるが、モデルを使った開発経験のないエンジニア</p></div>
</section>
<section class="slide" id="_トレーニングのゴール">
<h2>トレーニングのゴール</h2>
<div class="ulist">
<ul>
<li>モデルとコードのつながりを知っている</li>
<li>要素技術をモデルに組込んで使える</li>
</ul>
</div>
</section>
<section class="slide" id="_トレーニングの進め方">
<h2>トレーニングの進め方</h2>
<div class="ulist">
<ul>
<li>コードの状況をモデルで表すことで、モデルが表すものを実感します</li>
<li>モデルとコードを並行して編集し、モデルとコードの対応づけを学びます</li>
<li>要素技術を実験してからモデルに組込み、そのモデルからコードを作成します</li>
</ul>
</div>
</section>
</section>
<section class="slide" id="_このコースの背景">
<h2>このコースの背景</h2>
<div class="paragraph"><p>このコース「要素技術とモデルを開発に使おう」は、次のことを主眼に作成してあります。</p></div>
<div class="ulist">
<ul>
<li>コードを書くのにモデル図が役に立つことを実感してもらうこと</li>
<li>要素技術をモデル図に反映する方法について学ぶこと</li>
</ul>
</div>
</section>
<section class="slide" id="_このコースで学んでほしいことはなにか">
<h2>このコースで学んでほしいことはなにか</h2>
<div class="paragraph"><p>モデリング演習を通じて学んでほしいのは、次のようなことです。</p></div>
<div class="ulist">
<ul>
<li>課題があったとき、それをモデルで表現する、モデルで考える</li>
<li>コードはモデルに合わせて書く</li>
<li>要素技術をモデルに組込むことで結びつける</li>
</ul>
</div>
<div class="paragraph"><p>このようなことを学んでもらうため、以下のような演習を提供します。</p></div>
<div class="ulist">
<ul>
<li>コードを書くのに図が使えることを実感する</li>
<li>要素技術の実験結果をモデル図に組込む方法を使ってみる</li>
</ul>
</div>
<div class="paragraph"><p>以下のことは、コースでコードを書くのに図が使えることを知った上で、技術教育2の <strong>「開発プロセスに沿って開発する」</strong> で学ぶことにします。</p></div>
<div class="ulist">
<ul>
<li>オブジェクト指向の考え方</li>
<li>UMLの記法について解説する</li>
<li>開発プロセス</li>
</ul>
</div>
<div style="page-break-after: always"></div>
<div class="paragraph"><p>演習は以下のように進めます。</p></div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>コードのやっていることを表すのにモデル図が使えることを実感する</p>
<div class="ulist">
<ul>
<li>サンプルのコードを元にモデル図で表してみる</li>
<li>モデル図を使って現状を見直し、それに合わせてコードの構造も見直す</li>
</ul>
</div>
</li>
<li>
<p>要素技術を実験し、アプリケーションに組込んでみる</p>
<div class="ulist">
<ul>
<li>簡単なライントレーサーで、要素技術の必要性を感じる</li>
<li>要素技術として、比例制御を使えるかどうか実験する</li>
<li>実験した結果をモデル図に反映し、それに合わせてコードにも反映する</li>
</ul>
</div>
</li>
</ol>
</div>
<div style="page-break-after: always"></div>
<div class="paragraph"><p>このコース <strong>「要素技術とモデルを開発に使おう」</strong> は、以上のように構成されています。</p></div>
</section>
<section class="slide" id="_目次">
<h2>目次</h2>
<div class="ulist">
<div class="title">背景と準備（ <code>text00</code> ）</div>
<ul>
<li>背景</li>
<li>準備</li>
</ul>
</div>
<div class="ulist">
<div class="title">コードとモデル図を対応づけてみよう（ <code>text01</code> ）</div>
<ul>
<li><code>sample00</code> （ウォーカー）を動かしてみよう</li>
<li><code>sample01</code> ：システムの処理を担当するクラスを追加する</li>
<li><code>sample01</code> の構造をクラス図に表す</li>
<li><code>sample01</code> のコードを作成する</li>
<li>ここまでのまとめ</li>
</ul>
</div>
<div style="page-break-after: always"></div>
<div class="ulist">
<div class="title">要素技術をシステムに組込もう（ <code>text02</code> ）</div>
<ul>
<li><code>sample03</code> （ライントレーサー）を動かしてみよう</li>
<li><code>sample03</code> の振舞いの図を描いてみよう</li>
<li><code>sample03</code> の課題を検討しよう</li>
<li><code>sample04</code> ：比例制御の実験をやろう</li>
<li><code>sample05</code> ：検討結果をモデル図に反映する</li>
<li><code>sample05</code> の構造をクラス図に表す</li>
<li><code>sample05</code> のコードを作成する</li>
<li>ここまでのまとめ</li>
</ul>
</div>
<div style="page-break-after: always"></div>
</section>
<section class="slide" id="_準備1ev3用の環境構築">
<h2>準備1：EV3用の環境構築</h2>
<div class="paragraph"><p>以下を参照して環境を構築してください。</p></div>
<div class="ulist">
<ul>
<li><p>
ETロボコン EV3開発環境構築ガイド<div class="ulist">
<ul>
<li><a class="bare" href="https://github.com/ETrobocon/etroboEV3/wiki">https://github.com/ETrobocon/etroboEV3/wiki</a></li>
</ul>
</div></p></li>
</ul>
</div>
<div class="paragraph"><p>EV3RTについてより詳しく知りたい場合は下記を参照してください。</p></div>
<div class="ulist">
<ul>
<li><p>
TOPPERS/EV3RT とは？<div class="ulist">
<ul>
<li><a class="bare" href="http://dev.toppers.jp/trac_user/ev3pf/wiki/WhatsEV3RT">http://dev.toppers.jp/trac_user/ev3pf/wiki/WhatsEV3RT</a></li>
</ul>
</div></p></li>
</ul>
</div>
</section>
<section class="slide" id="_準備2visual_studio_codeの使い方の確認">
<h2>準備2：Visual Studio Codeの使い方の確認</h2>
<div class="paragraph"><p>本年度の環境としては、Visual Studio Codeを標準開発環境として利用します。
EV3開発環境構築ガイドに従って環境を構築するとインストールされます。</p></div>
<div class="paragraph"><p>インストールした後はデスクトップ（Windowsの場合、OneDriveなどとファイル共有されている場合は c:¥Users¥(ユーザ名)¥Desktop）にある
<code>Start ETrobo.cmd</code>(Windows) または  <code>Start ETrobo.command</code>(Mac)アイコンをダブルクリックすると、必要なセットアップを行ってVisual Studio Codeが起動されます。</p></div>
<div class="imageblock" style="text-align: center; float: center">
<div class="content">
<img alt="visualstudiocode_window" src="images/VisualStudioCode画面.png" width="75%" />
</div>
<div class="title">図 1. Visual Studio Codeの画面</div>
</div>
<div class="paragraph"><p>Visual Studio Codeの使い方については検索すると多く出てきます。
ターミナル（コマンドシェル）はメニューから「新しいターミナルを開く」か、Ctrl+@ (Windows/Linux)、Ctrl+Shift+@(Mac)で開きます。</p></div>
<section class="slide" id="_unix_のコマンドに慣れておきましょう">
<h2>Unix のコマンドに慣れておきましょう</h2>
<div class="paragraph"><p>Unixの基本コマンド（ <code>cd</code>, <code>ls</code>, <code>cp</code>, <code>make</code> など）、ディレクトリやファイルの表記や操作方法を確認しておきましょう。
「Unix コマンド 練習」などと検索するといろいろ出てきますので、そういったサイトを使うと良いでしょう。</p></div>
</section>
</section>
<section class="slide" id="_モデリングツールを用意する">
<h2>モデリングツールを用意する</h2>
<div class="paragraph"><p>モデリングツールはUMLなどのモデルを書く際に使用するツールです。
モデルはモデリングツールがなくても記述することができますが、ツールを使うことで記法にあった表現ができたり、複数の図の間で一貫性を取りやすくなります。
本演習では <strong>astah* Professional </strong> を使います。<br />
演習で展開するモデルのファイルもastah*形式となります。参加者のみなさんは無料のviewerを使用して参照することが可能です。
可能であれば期間ライセンスなどを購入すると良いでしょう。
本演習だけの用途であれば評価版（一週間利用可能）を使用することもできます。</p></div>
<div class="ulist">
<ul>
<li><p>
astah* viewer<div class="ulist">
<ul>
<li><a class="bare" href="https://astah.change-vision.com/ja/product/astah-viewer.html">https://astah.change-vision.com/ja/product/astah-viewer.html</a></li>
</ul>
</div></p></li>
<li><p>
astah* 各種ライセンス<div class="ulist">
<ul>
<li><a class="bare" href="https://astah.change-vision.com/ja/shopping/price.html">https://astah.change-vision.com/ja/shopping/price.html</a>
ETロボコンでは<strong>astah* professional </strong> または<strong>astah* UML </strong>が良いでしょう</li>
</ul>
</div></p></li>
</ul>
</div>
<div class="paragraph"><p>Windows PCだけでなく、MacやLinuxでも利用できます。
. 参加者向けの入手方法に従ってツールをダウンロードします
. インストール手順に沿ってインストールします
** Windows PCの場合、ライセンスの設定時だけは「管理者で実行」で起動する必要があります</p></div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning"></i>
</td>
<td class="content">
<div class="title">提出するモデル図をどのツールで描くのかは参加チームの自由です</div>
<div class="paragraph"><p>同じモデリングツールで演習するのは演習を円滑にするためです。<br />
提出モデルの作成に使用するツールを強制しているわけではないことに注意しましょう。</p></div>
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img alt="astah* Professionalの起動時の画面" src="images/astah_pro_start_splash_for_etrobo.png" width="50%" />
</div>
<div class="title">図 2. <strong>astah* Professional </strong> の起動時の画面（一部）</div>
</div>
<section class="slide" id="_基本操作を確認しましょう">
<h2>基本操作を確認しましょう</h2>
<div class="paragraph"><p>みなさんのテキストエディターの使い方を確認しておきましょう。</p></div>
<div class="ulist">
<ul>
<li>ファイルの作成、削除、保存、別名での保存、扱えるファイル拡張子の確認</li>
<li>文字単位、単語単位、行頭・行末、文頭・文末などへのカーソルの移動</li>
<li>テキストの入力、削除、コピーやペースト、検索、置換</li>
<li>その他提供されているコマンドの使い方</li>
</ul>
</div>
<div class="paragraph"><p>プログラムの中ではコメント以外で全角の文字は使えません。特に全角スペースなどは間違って入りやすいので注意しましょう。</p></div>
</section>
</section>
<section class="slide" id="_作業用場所の確認">
<h2>作業用場所の確認</h2>
<div class="paragraph"><p>開発環境の手順に従って環境を構築すると、ターミナル上では~/etroboで作業ができます。
技術教育で使用するサンプルプログラムや参加者が作成するプログラムは~/etrobo/workspace内に格納します。</p></div>
<div class="paragraph"><p>Visual Studio Codeのターミナルで、workspace以下のファイルを確認してください。</p></div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="console language-console">(ユーザ名)@(PC名):~/etrobo$ ls -1 workspace <i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>~</code>はホームディレクトリを示します</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>ls</code> はファイルリストの表示コマンド、 <code>-1</code> （ハイフン・イチ）は、縦1列に出力表示するオプションです</td>
</tr>
</table>
</div>
</section>
<section class="slide" id="_サンプルコードの準備">
<h2>サンプルコードの準備</h2>
<div class="paragraph"><p>サンプルコードは、 <code>beginners.zip</code> の中の <code>sample_cpp</code> ディレクトリに含まれています。
作業用環境のworkspaceディレクトリにsample_cpp内のディレクトリをコピーします。</p></div>
<section class="slide" id="_windows特有の事項">
<h2>Windows特有の事項</h2>
<div class="paragraph"><p>Windowsの場合、Visual Studio Code内のターミナルはUbuntuというLinuxのOSで動作しています。Ubuntu側からWindowsのファイルは</p></div>
<div class="paragraph"><p><code>/mnt/c</code></p></div>
<div class="paragraph"><p>がCドライブとして認識されています。
標準では「ドキュメントフォルダ」は</p></div>
<div class="paragraph"><p><code>/mnt/c/Users/(ユーザー名)/Documents</code></p></div>
<div class="paragraph"><p>にあります。ダウンロードフォルダは</p></div>
<div class="paragraph"><p><code>/mnt/c/Users/(ユーザー名)/Downloads</code></p></div>
<div class="paragraph"><p>となります。この点に注意してください。また、Visual Studio Codeのディレクトリーツリーに対してドラッグ＆ドロップでコピーすることも可能です。
慣れていなければこちらの方法を使いましょう。</p></div>
</section>
<section class="slide" id="_サンプルコードのコピー">
<h2>サンプルコードのコピー</h2>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="console language-console">(ユーザ名)@(PC名):~/etrobo$ cp -r (sample_cppを展開したディレクトリ)/sample_cpp/* workspace/</code></pre>
</div>
</div>
<div class="paragraph"><p>とすることでコピーできます。
コピーしたら、コピー先のディレクトリの内容を確認しましょう。</p></div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="console language-console">(ユーザ名)@(PC名):~/etrobo$ ls -1 workspace&#x000A;sample00&#x000A;sample01&#x000A;sample02&#x000A;   :&#x000A;&#x000A;(ユーザ名)@(PC名):~/etrobo$ ls workspace/sample00&#x000A;Makefile.inc  app.cfg  app.cpp  app.h  util.cpp  util.h</code></pre>
</div>
</div>
<div style="page-break-after: always"></div>
</section>
<section class="slide" id="_ディレクトリ構成">
<h2>ディレクトリ構成</h2>
<div class="paragraph"><p>ディレクトリ構成は以下のようになります。</p></div>
(Homeディレクトリ)/etrobo   (コンパイルのためのルートディレクトリ)
                    |---workspace　（コードを格納するディレクトリを置く場所）
                            |---sample00
                            |      |---app.cfg
                            |      |---app.cpp
                            |              :
                            |---sample01
                                   :
</section>
<section class="slide" id="_visual_studio_codeでファイルを開く">
<h2>Visual Studio Codeでファイルを開く</h2>
<div class="paragraph"><p>練習のため、sample00の下のapp.cppを開いてみましょう。左のディレクトリツリーからファイルをダブルクリックすれば開きます。</p></div>
</section>
</section>
<section class="slide" id="_モデル図作成の準備">
<h2>モデル図作成の準備</h2>
<div class="paragraph"><p>モデル作成に使うクラスが定義されているテンプレートは、 <code>beginners.zip</code> の中の <code>asta-template</code> ディレクトリに含まれています。</p></div>
<div class="paragraph"><p>内容を確認しておきましょう。</p></div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="console language-console">$ cd (beginners.zip を展開した場所）&#x000A;$ ls asta-template/&#x000A;README.md&#x000A;ev3rt.asta  <i class="conum" data-value="1"></i><b>(1)</b>&#x000A;テンプレートの使い方について.md&#x000A;JudeP.properties <i class="conum" data-value="2"></i><b>(2)</b>&#x000A;JudeP.propertiesについて.md</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>EV3RT用 C&#43;&#43; ライブラリのテンプレートファイル</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><strong>astah* </strong> を C&#43;&#43; 用に設定するためのプロパティファイル</td>
</tr>
</table>
</div>
<div style="page-break-after: always"></div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>演習で作成するモデルの保存用に、デスクトップに <code>beginners</code> ディレクトリを作成します</p>
<div class="ulist">
<ul>
<li>エクスプローラーやFinderで作成してかまいません</li>
<li>Windowsでは <code>c:￥Users￥ユーザ名￥Desktop￥beginners</code> になります（円記号は半角です）</li>
<li>Macでは <code>/Users/ユーザ名/Desktop/beginners</code> になります</li>
</ul>
</div>
</li>
</ol>
</div>
<div style="page-break-after: always"></div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
テンプレートファイルをモデル保存用ディレクトリにコピーします
</li>
<li>
<p>コピーできたかどうか確認します</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="console language-console">$ cd (モデル保存用ディレクトリ）&#x000A;$ ls&#x000A;ev3rt.asta</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph"><p>モデル図を保存する場所が準備できました。</p></div>
</section>
<section class="slide" id="_環境の使い方に慣れておく">
<h2>環境の使い方に慣れておく</h2>
<div class="ulist">
<div class="title">Visual Studio Codeの操作方法:</div>
<ul>
<li>ファイルやディレクトリの配置の理解</li>
<li>Unixのシェルとコマンドの使い方</li>
</ul>
</div>
<div class="ulist">
<div class="title">テキストエディターの操作方法:</div>
<ul>
<li>ファイルを作る、開く、保存する、閉じる</li>
<li>文章やコードを入力する、削除する、コピー＆ペーストする</li>
<li>文字列を検索、置換する</li>
</ul>
</div>
<div class="ulist">
<div class="title">モデリングツールの操作方法:(viewerでは参照だけです)</div>
<ul>
<li>プロジェクトファイルの作成、保存</li>
<li>モデル図を追加、複製、削除する</li>
<li>モデル図の要素の追加、移動、修正、削除</li>
</ul>
</div>
<div class="ulist">
<div class="title">モデリング言語の基本:</div>
<ul>
<li>UMLのよく使う図や構成要素の名前や役割</li>
</ul>
</div>
</section>
<section class="slide" id="_プログラムのコンパイルと実行シミュレータ">
<h2>プログラムのコンパイルと実行（シミュレータ）</h2>
<div class="paragraph"><p>コンパイルを行うにはworkspace内のどのディレクトリをコンパイルするかを指定します。</p></div>
<div class="paragraph"><p><code>$ make app=(workspaceのディレクトリ名) sim up</code></p></div>
<div class="paragraph"><p>とすると、コンパイルを行ってシミュレータが起動します。試しに</p></div>
<div class="paragraph"><p><code>$ make app=sample00 sim up</code></p></div>
<div class="paragraph"><p>と打ってみましょう。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>（途中略）&#x000A;brick_dri initialized.&#x000A;   _____   ______ ___  ______&#x000A;  / __/ | / /_  // _ \/_  __/&#x000A; / _/ | |/ //_ &lt;/ , _/ / /&#x000A;/___/ |___/____/_/|_| /_/&#x000A;&#x000A;====================&gt;Beta 7&lt;=&#x000A;&#x000A;Powered by TOPPERS/ASP3 RTOS of Hakoniwa&#x000A;Initialization is completed..&#x000A;System logging task is started.</code></pre>
</div>
</div>
<div class="paragraph"><p>が出ればプログラムは起動しています。simに加えてupを指定することで、シミュレータも起動します。</p></div>
<div class="imageblock" style="text-align: center; float: center">
<div class="content">
<img alt="simulator_window" src="images/シミュレータ画面.png" width="75%" />
</div>
<div class="title">図 3. ETロボコンシミュレータの画面</div>
</div>
<div class="paragraph"><p>以下、対象とするディレクトリを変更しない限りは
<code>make sim up</code>
を実行するだけで良いです。対象となるディレクトリを切り替える場合は再度
<code>$ make app=(workspaceのディレクトリ名) sim up</code>
を実行してください。</p></div>
<div style="page-break-after: always"></div>
</section>
<section class="slide" id="_appendix_実機を動かす場合">
<h2>Appendix. 実機を動かす場合</h2>
<div class="paragraph"><p>同じ環境で同じプログラムを実機のロボットに入れることができます。
ただし、シミュレータと実機では特性が異なるため、同じように走るわけではない点に注意してください。</p></div>
</section>
<section class="slide" id="_プログラムの実行形式について">
<h2>プログラムの実行形式について</h2>
<div class="paragraph"><p>EV3のプログラムをビルド・実行する方法は２つあります。</p></div>
<div class="ulist">
<ul>
<li>動的ローディング形式（ローダを使って指定したプログラムを起動する方式）</li>
<li>スタンドアローン形式（プログラム自身がブートイメージとなる方式）</li>
</ul>
</div>
<div class="paragraph"><p>ここでは「動的ローディング形式」を紹介します。</p></div>
</section>
<section class="slide" id="_動的ローディング形式の特徴">
<h2>動的ローディング形式の特徴</h2>
<div class="ulist">
<ul>
<li><p>
EV3をリセットすることなく、アプリケーションプログラムを更新・追加できます<div class="ulist">
<ul>
<li>加えて、USBケーブルを使って転送すれば、Bluetoothの再接続やSDカードの抜き差しなしに転送できます</li>
</ul>
</div></p></li>
<li><p>
1枚のSDカードに複数のアプリケーションが登録できます<div class="ulist">
<ul>
<li>ファイル名を変えて転送しておけば、実行時に選択して実行できます</li>
</ul>
</div></p></li>
<li><p>
短時間でビルドできます<div class="ulist">
<ul>
<li>OSやライブラリを一緒にビルドしないので、その分ビルド時間が短くなります</li>
</ul>
</div></p></li>
</ul>
</div>
</section>
<section class="slide" id="_動的ローディング形式のビルド手順">
<h2>動的ローディング形式のビルド手順</h2>
<section class="slide" id="_準備">
<h2>準備</h2>
<div class="paragraph"><p>SDカードのボリューム名を「EV3RT」としてください。PCに挿して、WindowsのエクスプローラやMacのFinderからSDカードを指定して、ボリューム名を変更しましょう。
これは一度やればOKです。</p></div>
</section>
</section>
<section class="slide" id="_アプリケーションローダの準備">
<h2>アプリケーションローダの準備</h2>
<div class="paragraph"><p>動的ローディング形式のプログラムはアプリケーションローダを使って実行します。<br />
みなさんの使っているEV3RTの開発環境が提供するアプリケーションローダでないとプログラムは起動しません。</p></div>
<div class="paragraph"><p>micro SDカード（以降、短くSDカードと書きます）を使いまわすときなどは、SDカード上のアプリケーションローダを1度書き換えておいたほうがよいでしょう。</p></div>
<div style="page-break-after: always"></div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>SDカードにアプリケーションローダを書き込みます</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
EV3RTインストールディレクトリの <code>sdcard</code> ディレクトリにある <code>uImage</code> を探します<br />
これがアプリケーションローダのファイルです
</li>
<li>
SDカードをPCに接続（挿入）します
</li>
<li>
<code>uImage</code> を、SDカードのルートディレクトリにコピーします
</li>
<li>
SDカードをPCと切断（抜出）します
</li>
</ol>
</div>
</li>
<li>
<p>EV3本体をEV3RTを使って起動します</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
SDカードをEV3本体に差し込んで、EV3本体の電源を入れます
</li>
<li>
EV3RTのアプリケーションローダの画面が表示されたら起動は成功です
</li>
</ol>
</div>
</li>
</ol>
</div>
</section>
<section class="slide" id="_usbを使ったプログラムの転送実行手順">
<h2>USBを使ったプログラムの転送・実行手順</h2>
<div class="olist arabic">
<ol class="arabic">
<li>
SDカードをEV3本体に差し込んで、EV3本体の電源を入れます
</li>
<li>
<p>アプリケーションをSDカードに転送します</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
USBケーブルでPCとEV3本体を接続します
</li>
<li>
PCがSDカードを認識するのを待ちます（USBメモリのような外部ドライブに見えるでしょう）
</li>
<li>
etroboディレクトリの下で、<code>make app=(ディレクトリ名) up</code>と打つとコンパイルと転送が行われます。
</li>
<li>
以後はコンパイルするディレクトリが変わらない限りは<code>make up</code>だけでよいです
</li>
<li>
コピーが終わったら、SDカードとPCの接続を解除します
</li>
<li>
解除を確認したら、EV3本体側のUSBケーブルを取り外します
</li>
</ol>
</div>
</li>
</ol>
</div>
<div style="page-break-after: always"></div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>アプリケーションを動かします</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
アプリケーションローダの画面に「Load App」が表示されたら中央ボタンでローダのメニューに切替えます
</li>
<li>
ロード元デバイスのリストが表示されたら、上下ボタンで「SD Card」に移動し、中央ボタンで選択します
</li>
<li>
転送したファイルリストが表示されたら、 <code>app</code> （や自分が変えたファイル名）を中央ボタンで選択します
</li>
<li>
アプリケーションが起動します
</li>
</ol>
</div>
</li>
</ol>
</div>
</section>
<section class="slide" id="end_of_chapter">
<h2>本資料について</h2>
<div class="paragraph"><p>資料名： 要素技術とモデルを開発に使おう: 背景と準備 （技術教育資料）<br />
作成者： &#169; 2016,2017,2018,2019,2020 by ETロボコン実行委員会<br />
この文書は、技術教育「要素技術とモデルを開発に使おう」に使用するETロボコン公式トレーニングのテキストです。</p></div>
<div class="paragraph"><p>3.0, 2020-07-05 11:59:55, 2020年用</p></div>
</section>
<div aria-role="navigation">
<a class="deck-prev-link" href="#" title="Previous">&#8592;</a>
<a class="deck-next-link" href="#" title="Next">&#8594;</a>
</div>
<p aria-role="status" class="deck-status">
<span class="deck-status-current"></span>
/
<span class="deck-status-total"></span>
</p>
<form action="." class="goto-form" method="get">
<label for="goto-slide">Go to Slide:</label>
<input id="goto-slide" list="goto-datalist" name="slidenum" type="text" />
<datalist id="goto-data-list"></datalist>
<input type="submit" value="Go" />
</form>
</div>
<script src="deck.js/jquery.min.js"></script>
<script src="deck.js/core/deck.core.js"></script>
<script src="deck.js/extensions/scale/deck.scale.js"></script>
<script src="deck.js/extensions/goto/deck.goto.js"></script>
<script src="deck.js/extensions/menu/deck.menu.js"></script>
<script src="deck.js/extensions/navigation/deck.navigation.js"></script>
<script src="deck.js/extensions/split/deck.split.js"></script>
<script src="deck.js/extensions/status/deck.status.js"></script>
<script type="text/javascript">
  //<![CDATA[
    (function($, deck, undefined) {
      $.deck.defaults.keys['previous'] = [8, 33, 37, 39];
      $.deck.defaults.keys['next'] = [13, 32, 34, 39];
    
      $.extend(true, $[deck].defaults, {
          countNested: false
      });
    
      $.deck('.slide');
    })(jQuery, 'deck');
  //]]>
</script>
<style type="text/css">
  /*<![CDATA[*/
    .slide.canvas-image {
    -moz-background-size: cover;
    -webkit-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    display: -moz-box;
    display: -webkit-box;
    display: -ms-box;
    display: box;
    -moz-box-orient: vertical;
    -webkit-box-orient: vertical;
    -ms-box-orient: vertical;
    box-orient: vertical;
    -moz-box-align: start;
    -webkit-box-align: start;
    -ms-box-align: start;
    box-align: start;
    -moz-box-pack: start;
    -webkit-box-pack: start;
    -ms-box-pack: start;
    box-pack: start;}
    
    .bottom-left {
      left: 1%;
      bottom: 20%; }
    
    .top-left {
      left: 1%;
      top: 20%; }
    
    .bottom-right {
      right: 1%;
      bottom: 20%; }
    
    .top-right {
      right: 1%;
      top: 20%; }
    
    .center-up {
      right: 50%;
      top: 1%;
    }
    
    .center-down {
      right: 50%;
      bottom: 1%;
    }
    .canvas-image .canvas-caption p {
      text-align: center;
      padding-top: 0;
      padding: 0;
      -moz-transform: none;
      -webkit-transform: none;
      -o-transform: none;
      -ms-transform: none;
      transform: none;
      display: inline;
      position: absolute;
      background-color: rgba(0, 0, 0, 0.7);
      font-weight: bold;
      font-size: 58px;
      -webkit-box-shadow: 2px 2px 2px #000;
      -moz-box-shadow: 2px 2px 2px #000;
      box-shadow: 2px 2px 2px #000;
      padding: 1rem;
      color: white; }
    kbd.keyseq { color: #555555; }
    kbd:not(.keyseq) {
      display: inline-block;
      color: #222222;
      font-size: 0.7em;
      line-height: 1.4;
      background-color: #F7F7F7;
      border: 1px solid #ccc;
      -webkit-border-radius: 3px;
      border-radius: 3px;
      -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
      margin: -0.15em 0.15em 0 0.15em;
      padding: 0.2em 0.6em;
      vertical-align: middle;
      white-space: nowrap;
    }
    kbd kbd:first-child { margin-left: 0; }
    kbd kbd:last-child { margin-right: 0; }
  /*]]>*/
</style>
</body>
</html>